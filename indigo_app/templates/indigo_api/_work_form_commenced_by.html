{% load i18n %}

<div class="mb-3 row">
  <label class="col-2 col-form-label">{% trans 'Commenced by' %}</label>
  <div class="col">

    <div id="work-form-commenced_by-formset">
      {% include 'indigo_api/_work_form_commencements_form.html' with formset=form.commenced_by_formset prefix="commenced_by" %}
    </div>

    <div class="mt-3 row">
      {% url 'work_form_commencements' work.frbr_uri as commencements_url %}
      <div class="col">
        <button
            class="btn btn-outline-primary"
            type="button"
            hx-get="{% url 'place_work_chooser' place.place_code %}?submit={{ commencements_url|urlencode }}&target={{ "#work-form-commenced_by-formset"|urlencode }}&field=commenced_by&include={{ "#work-form-commenced_by"|urlencode }}&method=hx-post"
            hx-target="#work-chooser-modal"
            hx-trigger="click"
            data-bs-toggle="modal"
            data-bs-target="#work-chooser-modal"
        >{% trans 'Add commencement' %}</button>
      </div>
    </div>
  </div>
</div>
