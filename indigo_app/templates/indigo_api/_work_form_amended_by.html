{% load i18n %}

<div class="mb-3 row">
  <label class="col-2 col-form-label">{% trans 'Amended by' %}</label>
  <div class="col">

    <div id="work-form-amended_by-formset">
      {% include 'indigo_api/_work_form_amendments_form.html' with formset=form.amended_by_formset prefix="amended_by" %}
    </div>

    <div class="mt-3 row">
      {% url 'work_form_amendments' work.frbr_uri as amendments_url %}
      <div class="col">
        <button
            class="btn btn-outline-primary"
            type="button"
            hx-get="{% url 'place_work_chooser' place.place_code %}?submit={{ amendments_url|urlencode }}&target={{ "#work-form-amended_by-formset"|urlencode }}&field=amended_by&include={{ "#work-form-amended_by"|urlencode }}&method=hx-post"
            hx-target="#work-chooser-modal"
            hx-trigger="click"
            data-bs-toggle="modal"
            data-bs-target="#work-chooser-modal"
        >{% trans 'Add amendment' %}</button>
      </div>
    </div>

  </div>
</div>
